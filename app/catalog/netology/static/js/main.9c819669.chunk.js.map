{"version":3,"sources":["components/app/netology-group-logo.svg","components/app-service-context/app-service-context.js","components/hoc/with-app-service.js","actions/index.js","services/localstorage.js","components/person-list-item/index.js","components/person-list-item/person-list-item.js","components/person-list/index.js","components/person-list/person-list.js","components/input/input.js","components/input/index.js","components/add-form/add-form.js","components/add-form/index.js","components/pages/people-page.js","components/edit-form/edit-form.js","components/edit-form/index.js","components/pages/person-details-page.js","components/modal/modal.js","components/modal/index.js","components/soc-block/index.js","components/soc-block/soc-block.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","reducers/index.js","store.js","index.js","services/app-service.js"],"names":["module","exports","__webpack_require__","p","React","createContext","AppServiceProvider","Provider","AppServiceConsumer","Consumer","withAppService","Wrapped","props","react_default","a","createElement","appService","Object","assign","peopleLoaded","newPeople","type","payload","openModal","options","objectSpread","closeModal","config","LocalStorageManager","this","_isExists","JSON","parse","localStorage","getItem","data","setItem","stringify","PersonListItem","_ref","person","name","surname","position","react","PersonList","people","onPersonSelected","className","map","key","id","onClick","components_person_list_item","Input","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","onChange","target","setState","value","state","_this$props","error","placeholder","inputClasses","classnames","form-control","is-invalid","Component","defaultProps","AddForm","validateForm","_this$state","prevState","errors","valid","mess","onCancel","onSave","e","preventDefault","_this$state2","info","addNewData","inputOnChange","input","defineProperty","textareaOnChange","_event$target","_this$state3","components_input","mapDispatchToProps","connect","PeoplePage","history","push","concat","addNewPerson","onClickAddPerson","modalTitle","modalContent","components_add_form","getAllPeople","set","components_person_list","newPerson","withRouter","EditForm","onChangeData","_this$props$data","PersonDetailsPage","onClickSave","personUpdate","personLoaded","onClickEdit","components_edit_form","_this$props2","personId","getPerson","_this$props3","updatePerson","react_router_dom","to","newDataPerson","selectedPersonData","Modal","close","modalIsOpen","SocBlock","href","rel","src","alt","App","mainLogo","react_router","path","component","exact","render","match","params","pages_person_details_page","components_soc_block","components_modal","ErrorIndicator","ErrorBoundary","hasError","components_error_indicator","children","initialState","reducer","arguments","length","undefined","action","personData","idArr","reduce","acc","elem","toConsumableArray","nextPersonId","_action$payload","idx","findIndex","item","slice","store","createStore","dummyData","getData","get","find","ReactDOM","es","error_boundary","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.9c819669.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/netology-group-logo.83c80085.svg\";","import React from 'react'\n\nconst {\n  Provider: AppServiceProvider,\n  Consumer: AppServiceConsumer\n} = React.createContext()\n\nexport {\n  AppServiceProvider,\n  AppServiceConsumer\n}\n","import React from 'react'\nimport { AppServiceConsumer } from '../app-service-context'\n\nconst withAppService = () => (Wrapped) => {\n\n  return (props) => {\n    return (\n      <AppServiceConsumer>\n        {\n          (appService) => {\n            return (\n              <Wrapped {...props} appService={appService} />\n            )\n          }\n        }\n      </AppServiceConsumer>\n    );\n  }\n};\n\nexport default withAppService\n","const peopleLoaded = (newPeople) => {\n  return {\n    type: 'FETCH_PEOPLE_SUCCESS',\n    payload: newPeople,\n  }\n}\n\nconst personLoaded = (newPerson) => {\n  return {\n    type: 'FETCH_PERSON_SUCCESS',\n    payload: newPerson,\n  }\n}\n\nconst addNewPerson = (newPerson) => {\n  return {\n    type: 'ADD_NEW_PERSON',\n    payload: newPerson,\n  }\n}\n\nconst openModal = (options) => {\n  return {\n    type: 'OPEN_MODAL',\n    ...options,\n  }\n}\n\nconst closeModal = () => {\n  return {\n    type: 'CLOSE_MODAL',\n  }\n}\n\nconst personUpdate = (newDataPerson) => {\n  return {\n    type: 'PERSON_UPDATE',\n    payload: newDataPerson,\n  }\n}\n\nexport {\n  peopleLoaded,\n  personLoaded,\n  addNewPerson,\n  openModal,\n  closeModal,\n  personUpdate,\n}\n","const config = {\n  name: 'people-storage',\n}\n\nexport default class LocalStorageManager {\n  static get() {\n    if (this._isExists()) {\n      const data = JSON.parse(localStorage.getItem(config.name))\n      return data\n    }\n    \n    return undefined\n  }\n  \n  static set(data) {  \n    localStorage.setItem(config.name, JSON.stringify(data))\n  }  \n  \n  static _isExists() {\n    return localStorage.getItem(config.name) ? true : false\n  }  \n}\n","import PersonListItem from './person-list-item'\n\nexport default PersonListItem\n","import React, { Fragment } from 'react'\n\nconst PersonListItem = ({ person }) => {\n  const { name, surname, position } = person\n  return (\n    <Fragment>\n      <td>{name}</td>\n      <td>{surname}</td>\n      <td>{position}</td>\n    </Fragment>\n  )\n}\n\nexport default PersonListItem\n","import PersonList from './person-list'\n\nexport default PersonList\n","import React from 'react'\n\nimport PersonListItem from '../person-list-item'\n\nimport './person-list.css'\n\nconst PersonList = ({ people, onPersonSelected }) => {  \n  return (\n    <div className=\"table-responsive mt-4 person-list\">\n      <table className=\"table table-dark table-hover\">\n        <thead>\n          <tr>\n            <th>Имя</th>\n            <th>Фамилия</th>\n            <th>Должность</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            people.map((person) => {\n              return (\n                <tr key={person.id}\n                    onClick={() => { onPersonSelected(person.id) }}>\n                  <PersonListItem person={person} />\n                </tr>\n              )\n            })\n          }\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default PersonList\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\n\nclass Input extends Component {\n  \n    constructor(props) {\n      super(props)\n      this.state = {\n        value: this.props.value,\n      }\n    }\n    \n    handleChange = (event) => {\n      this.props.onChange(event.target)\n      this.setState({\n        value: event.target.value,\n      })\n    }\n  \n    render() {\n      const { type, name, error, placeholder } = this.props\n      const inputClasses = classnames({\n        'form-control': true,\n        'is-invalid': !!error,\n      })\n      \n      return (\n        <div className=\"form-group\">\n          <input \n            type={type}\n            name={name}\n            value={this.state.value}\n            onChange={this.handleChange}\n            className={inputClasses}\n            placeholder={placeholder}\n          />\n          { error && <span className=\"text-danger\">{error}</span> }\n        </div>\n      )\n    }\n}\n\nInput.propTypes = {\n  value: PropTypes.string,\n  type: PropTypes.string,\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  placeholder: PropTypes.string,\n}\n\nInput.defaultProps = {\n  type: 'text',\n}\n\nexport default Input\n","import Input from './input'\n\nexport default Input\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { closeModal } from '../../actions'\n\nimport Input from '../input'\n\nimport './add-form.css'\n\nclass AddForm extends Component {\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      surname: '',\n      position: '',\n      info: '',\n      errors: {\n        name: { mess: '', valid: true },\n        surname: { mess: '', valid: true },\n        position: { mess: '', valid: true },\n      }\n    }\n  }\n  \n  validateForm = () => {\n    const { name, surname, position } = this.state\n    if (!name || !surname || !position) {\n      this.setState((prevState) => {\n        return {\n          errors: {\n            name: { valid: !!prevState.name, mess: 'Укажите имя' },\n            surname: { valid: !!prevState.surname, mess: 'Укажите фамилию' },\n            position: { valid: !!prevState.position, mess: 'Укажите должность' },\n          }\n        }\n      })\n      return false\n    }\n    return true\n  }\n\n  onCancel = () => {\n    this.props.closeModal()\n  }\n  \n  onSave = (e) => {\n    e.preventDefault()\n    \n    if (!this.validateForm()) {\n      return\n    }\n    \n    const { name, surname, position, info } = this.state\n    this.props.addNewData({\n      name, surname, position, info,\n    })\n    \n    this.props.closeModal()\n  }\n  \n  inputOnChange = (input) => {\n    const { name, value } = input\n    this.setState({ [name]: value })\n  }\n  \n  textareaOnChange = (event) => {\n    const { name, value } = event.target\n    this.setState({ [name]: value })\n  }\n  \n  render() {\n    const { name, surname, position, info, errors } = this.state\n    return (\n      <div className=\"add-form\">\n        <form>\n          <div className=\"modal-body\">\n            <Input error={!errors.name.valid ? errors.name.mess : null} onChange={this.inputOnChange} name=\"name\" value={name} placeholder=\"Имя\" />\n            <Input error={!errors.surname.valid ? errors.surname.mess : null} onChange={this.inputOnChange} name=\"surname\" value={surname} placeholder=\"Фамилия\" />\n            <Input error={!errors.position.valid ? errors.position.mess : null} onChange={this.inputOnChange} name=\"position\" value={position} placeholder=\"Должность\" />\n            <textarea name=\"info\" value={info} onChange={this.textareaOnChange} placeholder=\"Описание\" className=\"form-control\" />\n          </div>\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.onCancel}>Отмена</button>\n            <button className=\"btn btn-primary\" onClick={this.onSave}>Добавить</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nAddForm.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  addNewData: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => {\n  return {}\n}\n\nconst mapDispatchToProps = {\n  closeModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddForm)\n","import AddForm from './add-form'\n\nexport default AddForm\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport { withAppService } from '../hoc'\nimport { peopleLoaded, addNewPerson, openModal } from '../../actions'\nimport LocalStorageManager from '../../services/localstorage'\n\nimport PersonList from '../person-list'\nimport AddForm from '../add-form'\n\nclass PeoplePage extends Component {\n  \n  componentDidMount() {\n    const { appService, peopleLoaded } = this.props\n    const data = appService.getAllPeople()\n    peopleLoaded(data)\n  }\n  \n  componentWillUnmount() {\n    LocalStorageManager.set(this.props.people)\n  }\n  \n  componentDidUpdate() {\n    LocalStorageManager.set(this.props.people)\n  }\n\n  onPersonSelected = (id) => {\n    const { history } = this.props;\n    history.push(`/people/${id}`)\n  }\n  \n  addNewPerson = (data) => {\n    const { name, surname, position, info } = data\n    this.props.addNewPerson({\n      name, surname, position, info\n    })\n  }\n  \n  onClickAddPerson = (e) => {\n    e.preventDefault()\n    this.props.openModal({\n      modalTitle: \"Новый сотрудник\",\n      modalContent: <AddForm addNewData={this.addNewPerson} />,\n    });\n  }\n\n  render() {\n    const { people } = this.props\n    if (!people) return null\n    \n    return (\n      <div className=\"people-page\">\n        <h2 className=\"mb-4\">Список сотрудников</h2>\n        <div className=\"mb-2\">\n          <PersonList \n            people={people}\n            onPersonSelected={this.onPersonSelected}\n          />\n        </div>\n        <button \n          type=\"button\"\n          className=\"btn btn-dark\"\n          onClick={this.onClickAddPerson}\n        >Добавить</button>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({ people }) => {\n  return {\n    people,\n  }\n}\n\nconst mapDispatchToProps = {\n  peopleLoaded,\n  addNewPerson,\n  openModal,\n}\n\nexport default withRouter(withAppService()(connect(mapStateToProps, mapDispatchToProps)(PeoplePage)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { closeModal } from '../../actions'\n\nimport Input from '../input'\n\nimport './edit-form.css'\n\n\nclass EditForm extends Component {\n  \n  constructor(props) {\n    super(props)\n    const { id, name, surname, position, info } = this.props.data\n    this.state = {\n      id,\n      name,\n      surname,\n      position,\n      info,\n      errors: {\n        name: { mess: '', valid: true },\n        surname: { mess: '', valid: true },\n        position: { mess: '', valid: true },\n      }\n    }\n  }\n  \n  validateForm = () => {\n    const { name, surname, position } = this.state\n    if (!name || !surname || !position) {\n      this.setState((prevState) => {\n        return {\n          errors: {\n            name: { valid: !!prevState.name, mess: 'Укажите имя' },\n            surname: { valid: !!prevState.surname, mess: 'Укажите фамилию' },\n            position: { valid: !!prevState.position, mess: 'Укажите должность' },\n          }\n        }\n      })\n      return false\n    }\n    return true\n  }\n\n  onCancel = () => {\n    this.props.closeModal()\n  }\n  \n  onSave = (e) => {\n    e.preventDefault()\n    \n    if (!this.validateForm()) {\n      return\n    }\n    \n    const { id, name, surname, position, info } = this.state\n    this.props.onChangeData({\n      id, name, surname, position, info,\n    })\n    \n    this.props.closeModal()\n  }\n  \n  inputOnChange = (input) => {\n    const { name, value } = input\n    this.setState({ [name]: value })\n  }\n  \n  textareaOnChange = (event) => {\n    const { name, value } = event.target\n    this.setState({ [name]: value })\n  }\n  \n  render() {\n    const { id, name, surname, position, info, errors } = this.state\n    return (\n      <div className=\"edit-form\">\n        <form>\n          <div className=\"modal-body\">\n            <p>ID: {id}</p>\n            <Input error={!errors.name.valid ? errors.name.mess : null} onChange={this.inputOnChange} name=\"name\" value={name} placeholder=\"Имя\" />\n            <Input error={!errors.surname.valid ? errors.surname.mess : null} onChange={this.inputOnChange} name=\"surname\" value={surname} placeholder=\"Фамилия\" />\n            <Input error={!errors.position.valid ? errors.position.mess : null} onChange={this.inputOnChange} name=\"position\" value={position} placeholder=\"Должность\" />\n            <textarea name=\"info\" value={info} onChange={this.textareaOnChange} placeholder=\"Описание\" className=\"form-control\" />\n          </div>\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.onCancel}>Отмена</button>\n            <button className=\"btn btn-primary\" onClick={this.onSave}>Сохронить</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nEditForm.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => {\n  return {}\n}\n\nconst mapDispatchToProps = {\n  closeModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditForm)\n","import EditForm from './edit-form'\n\nexport default EditForm\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { withAppService } from '../hoc'\nimport { openModal, personLoaded, personUpdate, peopleLoaded } from '../../actions'\nimport LocalStorageManager from '../../services/localstorage'\n\nimport EditForm from '../edit-form'\n\nimport './person-details-page.css'\n\nclass PersonDetailsPage extends Component {\n  \n  state = {\n    name: '',\n    surname: '',\n    position: '',\n    info: '',\n  }\n  \n  updatePerson() {\n    const { appService, personLoaded, personId } = this.props\n    if (!personId) return\n    const person = appService.getPerson(+personId)\n    this.setState({\n      name: person.name,\n      surname: person.surname,\n      position: person.position,\n      info: person.info,\n    })\n    personLoaded(person)\n  }\n  \n  componentDidMount() {\n    const { appService, peopleLoaded } = this.props\n    const data = appService.getAllPeople()\n    peopleLoaded(data)\n    this.updatePerson()\n  }\n  \n  componentDidUpdate() {\n    LocalStorageManager.set(this.props.people)\n  }\n  \n  onClickSave = (data) => {\n    const { id, name, surname, position, info } = data\n    this.setState({\n      name,\n      surname,\n      position,\n      info,\n    })\n    this.props.personUpdate({\n      id, name, surname, position, info,\n    })\n    const { personLoaded } = this.props\n    personLoaded(data)\n  }\n  \n  onClickEdit = () => {\n    const { openModal, person } = this.props;\n    openModal({\n      modalTitle: \"Изменить данные\",\n      modalContent: <EditForm data={person} onChangeData={this.onClickSave} />,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2 className=\"mb-4\">Детальная страница</h2>\n        \n        <Link \n          to=\"/\"\n          className=\"btn btn-secondary mb-4\"\n        >\n          К списку\n        </Link>\n\n        <div className=\"table-responsive person-details mb-3\">\n          <table className=\"table table-borderless person-details__table\">\n            <tbody>\n              <tr>\n                <td>Имя:</td>\n                <td>{this.state.name}</td>\n              </tr>\n              <tr>\n                <td>Фамилия:</td>\n                <td>{this.state.surname}</td>\n              </tr>\n              <tr>\n                <td>Должность:</td>\n                <td>{this.state.position}</td>\n              </tr>\n              <tr>\n                <td>Описание:</td>\n                <td>{this.state.info}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <button \n          onClick={this.onClickEdit}\n          className=\"btn btn-primary\"\n        >Редактировать</button>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({ people, selectedPersonData }) => {\n  return {\n    people,\n    person: selectedPersonData,\n  }\n}\n\nconst mapDispatchToProps = {\n  openModal,\n  personLoaded,\n  personUpdate,\n  peopleLoaded,\n}\n\nexport default withAppService()(connect(mapStateToProps, mapDispatchToProps)(PersonDetailsPage))\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { closeModal } from '../../actions/'\n\nimport './modal.css'\n\nclass Modal extends Component {\n  \n  close = () => {\n    const { closeModal } = this.props\n    closeModal();\n  }\n  \n  render() {\n    const { \n      modalIsOpen, \n      modalTitle,\n      modalContent, \n    } = this.props\n\n    if (!modalIsOpen) return null\n\n    return (\n      <div className=\"modal\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">{modalTitle}</h5>\n              <button className=\"close\" onClick={this.close}>\n                <span>&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              {modalContent}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({ modalIsOpen, modalTitle, modalContent }) => {\n  return {\n    modalIsOpen,\n    modalTitle,\n    modalContent,\n  }\n}\n\nconst mapDispatchToProps = {\n  closeModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal)\n","import Modal from './modal'\n\nexport default Modal\n","import SocBlock from './soc-block'\n\nexport default SocBlock\n","import React from 'react'\n\nimport './soc-block.css'\n\nconst SocBlock = () => {\n  return (\n    <div className=\"soc-block\">\n      <ul className=\"social-list w-list-unstyled\">\n        <li className=\"social-item\">\n          <a href=\"https://vk.com/netologygroup\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link w-inline-block\">\n            <img src=\"https://assets.website-files.com/5b48b41ec57559774ed7eb07/5b4c87632d24ef34d247bb0a_vk.svg\" alt=\"\" />\n          </a>\n        </li>\n        <li className=\"social-item\">\n          <a href=\"https://www.youtube.com/user/netologygroup\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link w-inline-block\">\n            <img src=\"https://assets.website-files.com/5b48b41ec57559774ed7eb07/5b4c87d6d95543eb941cce54_youtube.svg\" alt=\"\" />\n          </a>\n        </li>\n        <li className=\"social-item\">\n          <a href=\"https://instagram.com/netologygroup/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link w-inline-block\">\n            <img src=\"https://assets.website-files.com/5b48b41ec57559774ed7eb07/5b4c87e4abad38d260ba6db1_insta.svg\" alt=\"\" />\n          </a>\n        </li>\n        <li className=\"social-item\">\n          <a href=\"https://www.facebook.com/netologygroup\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link w-inline-block\">\n            <img src=\"https://assets.website-files.com/5b48b41ec57559774ed7eb07/5b4c8803abad383a28ba6e25_fb.svg\" alt=\"\" />\n          </a>\n        </li>\n      </ul>\n      <p>© Нетология-групп, 2011‐2019</p>\n    </div>\n  )\n}\n\nexport default SocBlock\n","import App from './app'\n\nexport default App\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport { PeoplePage, PersonDetailsPage } from '../pages'\nimport Modal from '../modal'\nimport SocBlock from '../soc-block'\n\nimport mainLogo from './netology-group-logo.svg'\nimport './app.css'\n\nconst App = () => {\n  return (\n    <div className=\"page\">\n      <header className=\"page__header container\">\n        <img src={mainLogo} alt=\"Netology Group Logo\"/>\n      </header>\n      <main className=\"page__main\">\n        <div className=\"container\">\n          <Route \n            path=\"/\"\n            component={PeoplePage}\n            exact />\n          <Route \n            path={`/people/:id`}\n            render={({ match }) => {\n              const { id } = match.params\n              return <PersonDetailsPage personId={id} />\n            }} />\n        </div>\n      </main>\n      <footer className=\"page__footer container\">\n        <SocBlock />\n      </footer>\n      \n      <Modal />\n    </div>\n  )\n}\n\nexport default App\n","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return <div>Error!</div>;\n};\n\nexport default ErrorIndicator;\n","import ErrorBoundary from './error-boundary';\n\nexport default ErrorBoundary;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundary extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  people: null,\n  selectedPersonData: null,\n  modalIsOpen: false,\n  modalTitle: null,\n  modalContent: null,\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_PEOPLE_SUCCESS':\n      return {\n        people: action.payload,\n      }\n\n    case 'FETCH_PERSON_SUCCESS':\n      return {\n        ...state,\n        selectedPersonData: action.payload,\n      }\n\n    case 'ADD_NEW_PERSON':\n      const personData = action.payload\n      \n      const nextPersonId = (people) => {\n        const idArr = people.reduce((acc, elem) => {\n          if (!elem) return acc\n          return [...acc, elem.id]\n        }, [])\n\n        const lastId = (arr) => {\n          return arr.reduce((acc, elem) => {\n            if (!elem) return acc\n            return acc > elem ? acc : elem\n          })\n        }\n\n        return lastId(idArr) + 1\n      }\n\n      const newPerson = { ...personData, id: nextPersonId(state.people) }\n      const newPeople = [ ...state.people, newPerson ]\n\n      return {\n        ...state,\n        people: newPeople, \n      }\n    \n    case 'OPEN_MODAL':\n      return {\n        ...state,\n        modalIsOpen: true,\n        modalTitle: action.modalTitle,\n        modalContent: action.modalContent,\n      }\n    \n    case 'CLOSE_MODAL':\n      return {\n        ...state,\n        modalIsOpen: false,\n        modalTitle: null,\n        modalContent: null,\n      }\n    \n    case 'PERSON_UPDATE':\n      const { people } = state\n      const { id, name, surname, position, info } = action.payload\n      const idx = people.findIndex(item => item.id === +id)\n      \n      const newDataPerson = {\n        id: +id,\n        name, surname, position, info,\n      }\n\n      return {\n        ...state,\n        people: [\n          ...state.people.slice(0, idx),\n          { ...newDataPerson },\n          ...state.people.slice(idx + 1),\n        ]\n      }\n    \n    default:\n      return state\n  }\n}\n\nexport default reducer\n","import { createStore } from 'redux'\n\nimport reducer from './reducers'\n\nconst store = createStore(reducer)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport App from './components/app'\nimport ErrorBoundary from './components/error-boundary'\nimport AppService from './services/app-service'\nimport { AppServiceProvider } from './components/app-service-context'\n\nimport store from './store'\n\nconst appService = new AppService()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <AppServiceProvider value={appService}>\n        <Router>\n          <App />\n        </Router>\n      </AppServiceProvider>\n    </ErrorBoundary>\n  </Provider>, \n  document.getElementById('root')\n)\n","import LocalStorageManager from './localstorage'\n\nexport default class AppService {\n  \n  dummyData = [\n    { \n      name: 'Михаил',\n      surname: 'Горячев',\n      position: 'Интернет-маркетолог',\n      info: 'Настоящее имя Питер Паркер — персонаж, супергерой, появляющийся в комиксах издательства Marvel Comics, созданный Стэном Ли и Стивом Дитко.',\n      id: 1,\n    },\n    { \n      name: 'Татьяна',\n      surname: 'Долгова',\n      position: 'HR',\n      info: 'Главная героиня серии компьютерных игр Tomb Raider компании Square Enix. Является также персонажем фильмов, мультсериала, книг и комиксов.',\n      id: 2,\n    },\n  ]\n\n  getData = () => {\n    const storage = LocalStorageManager.get()\n    return storage || this.dummyData \n  }\n\n  getAllPeople = () => {\n    return this.getData()\n  }\n  \n  getPerson = (id) => {\n    return this.getData().find((elem) => id === elem.id)\n  }\n}\n"],"sourceRoot":""}